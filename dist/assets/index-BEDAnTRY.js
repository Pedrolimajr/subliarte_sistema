import{r as u,j as e,a as z}from"./react-BYZxv2ag.js";import{c as W}from"./react-dom-B3AknDtq.js";import{L as E,B as Z}from"./react-router-dom-BQmKzWeb.js";import{E as ee}from"./jspdf-BPAB5LR3.js";import{a as te}from"./jspdf-autotable-DS8zkWY0.js";import se from"./html2canvas-CBrSDip1.js";import{P as I}from"./prop-types-Dr0uAv_z.js";import{a as ae,d as ne,e as k}from"./react-router-WmrkMIxr.js";import"./core-js-BZbSh4NS.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-Br25Cn4W.js";import"./@babel-BsCcpEdk.js";import"./fflate-EnPhvkmS.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))d(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const x of a.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&d(x)}).observe(document,{childList:!0,subtree:!0});function p(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function d(o){if(o.ep)return;o.ep=!0;const a=p(o);fetch(o.href,a)}})();const re=()=>{const[h,s]=u.useState([]);u.useEffect(()=>{const i=JSON.parse(localStorage.getItem("planilhas"))||[];s(i)},[]),u.useEffect(()=>{h.length>0&&localStorage.setItem("planilhas",JSON.stringify(h))},[h]);const p=()=>{const r={nome:`Planilha ${h.length+1}`,linhas:[]};s(m=>[...m,r])},d=i=>{const r=[...h[i].linhas,{produto:"",cliente:"",data:"",qtd:"",valor:"",total:"",gasto:"",lucro:"",entrega:"",status:"",situacao:""}];s(m=>{const c=[...m];return c[i].linhas=r,c})},o=(i,r)=>{s(m=>{const c=[...m];return c[i].linhas.splice(r,1),c})},a=i=>{s(r=>r.filter((c,g)=>g!==i))},x=(i,r,m)=>{const c=[...h];c[0].linhas[i][r]=m,s(c)},j=(i,r)=>{s(m=>{const c=[...m];return c[i].nome=r,c})};return e.jsxs("div",{className:"container",children:[e.jsx("h1",{className:"planilha-controle",children:"Planilha de Controle"}),e.jsx("button",{className:"add-button2",onClick:p,children:"Adicionar Planilha"}),e.jsx("hr",{}),h.map((i,r)=>e.jsxs("div",{className:"planilha-container",children:[e.jsxs("h2",{className:"planilha-title",children:[e.jsx("input",{type:"text",value:i.nome,onChange:m=>j(r,m.target.value),className:"input-field-title"}),e.jsx("button",{className:"delete-button2",onClick:()=>a(r),children:"Excluir Planilha"})]}),e.jsxs("table",{className:"planilha-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"prd",children:"Produto"}),e.jsx("th",{className:"cl",children:"Cliente"}),e.jsx("th",{className:"dt",children:"Data"}),e.jsx("th",{children:"Qtd"}),e.jsx("th",{className:"vl",children:"Valor"}),e.jsx("th",{className:"tot",children:"Total"}),e.jsx("th",{className:"gast",children:"Gasto"}),e.jsx("th",{className:"lucr",children:"Lucro"}),e.jsx("th",{className:"entg",children:"Entrega"}),e.jsx("th",{className:"sta",children:"Status"}),e.jsx("th",{className:"sit",children:"Situação"}),e.jsx("th",{children:"Ações"})]})}),e.jsxs("tbody",{children:[i.linhas.map((m,c)=>e.jsxs("tr",{children:[Object.keys(m).map(g=>e.jsx("td",{children:e.jsx("input",{className:"input-field input-field2",type:"text",value:m[g],onChange:N=>x(c,g,N.target.value)})},g)),e.jsx("td",{children:e.jsx("button",{className:"delete-button",onClick:()=>o(r,c),children:"Excluir"})})]},c)),e.jsx("tr",{children:e.jsx("td",{colSpan:"11",children:e.jsx("button",{className:"add-button",onClick:()=>d(r),children:"Adicionar Linha"})})})]})]})]},r))]})},oe=()=>{const h=(t,n)=>{const l=localStorage.getItem(t);return l?JSON.parse(l):n},[s,p]=u.useState(()=>h("products",[{id:1,name:"",price:30,stock:10,entryDate:"",exitDate:""},{id:2,name:"",price:35,stock:20,entryDate:"",exitDate:""},{id:3,name:"",price:40,stock:15,entryDate:"",exitDate:""}])),[d,o]=u.useState(()=>h("movements",[])),[a,x]=u.useState({name:"",price:"",stock:""}),[j,i]=u.useState(!1),[r,m]=u.useState(!1),[c,g]=u.useState(!1),[N,T]=u.useState(""),[y,L]=u.useState(null),[v,b]=u.useState({type:"",productId:"",quantity:""}),[D,O]=u.useState("");u.useEffect(()=>{localStorage.setItem("products",JSON.stringify(s))},[s]),u.useEffect(()=>{localStorage.setItem("movements",JSON.stringify(d))},[d]);const P=t=>{const{name:n,value:l}=t.target;x({...a,[n]:l})},F=t=>{O(t.target.value)},_=t=>{if(t.preventDefault(),y){const n=s.map(l=>l.id===y.id?{...y,name:a.name,price:parseFloat(a.price),stock:parseInt(a.stock)}:l);p(n),L(null)}else{const n={id:s.length+1,name:a.name,price:parseFloat(a.price),stock:parseInt(a.stock),entryDate:"",exitDate:""};p([...s,n]);const l={type:"Cadastro",productName:a.name,quantity:a.stock,dateTime:new Date().toLocaleString()};o([...d,l])}x({name:"",price:"",stock:""}),i(!1)},B=t=>{L(t),x({name:t.name,price:t.price.toString(),stock:t.stock.toString()}),i(!0)},Q=t=>{const n=s.filter(l=>l.id!==t);p(n)},J=t=>{const n=d.filter((l,C)=>C!==t);o(n)},G=()=>{o([])},w=()=>{i(!j)},R=()=>{g(!c)},S=()=>{m(!r)},q=t=>{const{name:n,value:l}=t.target;b({...v,[n]:l})},U=()=>{const{productId:t,quantity:n,type:l}=v;if(!t||!n||!l)return;const C=s.map(f=>{if(f.id===parseInt(t)){const Y=l==="Entrada"?f.stock+parseInt(n):f.stock-parseInt(n);return{...f,stock:Y,[`${l==="Entrada"?"entryDate":"exitDate"}`]:new Date().toLocaleDateString()}}return f});p(C);const K=s.find(f=>f.id===parseInt(t)),X={type:l,productName:K.name,quantity:parseInt(n),dateTime:new Date().toLocaleString()};o([...d,X]),b({type:"",productId:"",quantity:""}),m(!1)},V=()=>{if(N==="pdf"){const t=new ee;t.text("Relatório de Movimentações",10,10),te(t,{head:[["Tipo","Produto","Quantidade","Data e Hora"]],body:d.map(n=>[n.type,n.productName,n.quantity,n.dateTime])}),t.save("relatorio_movimentacoes.pdf")}else if(N==="jpeg"){const t=document.getElementById("report-table");se(t).then(n=>{const l=document.createElement("a");l.href=n.toDataURL("image/jpeg"),l.download="relatorio_movimentacoes.jpeg",l.click()})}},$=t=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t),H=s.filter(t=>t.name.toLowerCase().includes(D.toLowerCase()));return e.jsxs("div",{className:"container-products",children:[e.jsx("h1",{className:"h1-products",children:"Produtos"}),e.jsxs("div",{className:"search-container",children:[e.jsx("input",{type:"text",placeholder:"Pesquisar produtos...",value:D,onChange:F,className:"search-input"}),e.jsx("button",{className:"search-btn",children:"Pesquisar"})]}),e.jsxs("div",{className:"buttons-container",children:[e.jsx("button",{className:"toggle-form-btn",onClick:w,children:j?"Ocultar Cadastro":"Cadastrar Novo Produto"}),e.jsx("button",{className:"toggle-form-btn",onClick:R,children:c?"Ocultar Relatório":"Gerar Relatório"}),e.jsx("button",{className:"toggle-form-btn",onClick:()=>{b({...v,type:"Entrada"}),S()},children:"Entrada de Produtos"}),e.jsx("button",{className:"toggle-form-btn",onClick:()=>{b({...v,type:"Saída"}),S()},children:"Saída de Produtos"})]}),j&&e.jsx("div",{className:"overlay",onClick:w,children:e.jsx("div",{className:"product-form-container report-modal",onClick:t=>t.stopPropagation(),children:e.jsxs("form",{onSubmit:_,className:"product-form",children:[e.jsx("h2",{children:y?"Editar Produto":"Cadastrar Novo Produto"}),e.jsx("input",{type:"text",name:"name",placeholder:"Nome do Produto",value:a.name,onChange:P,required:!0}),e.jsx("input",{type:"number",name:"price",placeholder:"Preço",value:a.price,onChange:P,required:!0}),e.jsx("input",{type:"number",name:"stock",placeholder:"Quantidade Inicial",value:a.stock,onChange:P,required:!0}),e.jsx("button",{type:"submit",children:y?"Salvar Alterações":"Adicionar Produto"})]})})}),r&&e.jsx("div",{className:"overlay",onClick:S,children:e.jsxs("div",{className:"product-form-container report-modal",onClick:t=>t.stopPropagation(),children:[e.jsxs("h2",{children:[v.type," de Produtos"]}),e.jsxs("select",{name:"productId",value:v.productId,onChange:q,children:[e.jsx("option",{value:"",children:"Selecione um produto"}),s.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx("input",{type:"number",name:"quantity",placeholder:"Quantidade",value:v.quantity,onChange:q,required:!0}),e.jsx("button",{onClick:U,children:"Confirmar"})]})}),c&&e.jsx("div",{className:"overlay",onClick:R,children:e.jsxs("div",{className:"product-form-container report-modal",onClick:t=>t.stopPropagation(),children:[e.jsx("h2",{children:"Relatório de Movimentações"}),e.jsxs("div",{id:"report-table",children:[e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Tipo"}),e.jsx("th",{children:"Produto"}),e.jsx("th",{children:"Quantidade"}),e.jsx("th",{children:"Data e Hora"}),e.jsx("th",{children:"Ações"})]})}),e.jsx("tbody",{children:d.length>0?d.map((t,n)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.type}),e.jsx("td",{children:t.productName}),e.jsx("td",{children:t.quantity}),e.jsx("td",{children:t.dateTime}),e.jsx("td",{children:e.jsx("button",{className:"report-excluir",onClick:()=>J(n),children:"Excluir"})})]},n)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",children:"Nenhuma movimentação registrada."})})})]}),d.length>0&&e.jsx("div",{children:e.jsx("button",{className:"report-excluir",onClick:G,children:"Excluir Todas as Movimentações"})})]}),e.jsxs("div",{children:[e.jsxs("label",{children:["Exportar como:",e.jsxs("select",{value:N,onChange:t=>T(t.target.value),children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{value:"pdf",children:"PDF"}),e.jsx("option",{value:"jpeg",children:"JPEG"})]})]}),e.jsx("button",{onClick:V,children:"Exportar Relatório"})]})]})}),e.jsxs("table",{className:"products-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Nome"}),e.jsx("th",{children:"Preço"}),e.jsx("th",{children:"Quantidade em Estoque"}),e.jsx("th",{className:"acoes-products",children:"Ações"})]})}),e.jsx("tbody",{children:H.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.name}),e.jsx("td",{children:$(t.price)}),e.jsx("td",{children:t.stock}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-editar",onClick:()=>B(t),children:"Editar"}),e.jsx("button",{className:"btn-excluir",onClick:()=>Q(t.id),children:"Excluir"})]})]},t.id))})]})]})},M=({onLogout:h})=>{const[s,p]=u.useState(!1),d=()=>{p(!s)};return e.jsxs("nav",{className:"navigation",children:[e.jsx("div",{className:"nav-logo",children:e.jsx("img",{src:"logo2.png",alt:"Logo"})})," ",e.jsx("button",{className:"menu-toggle",onClick:d,children:"☰ "}),e.jsxs("ul",{className:`nav-list ${s?"open":""}`,children:[" ",e.jsx("li",{className:"nav-item",children:e.jsx(E,{className:"nav-link",to:"/products",children:"Produtos"})}),e.jsx("li",{className:"nav-item",children:e.jsx(E,{className:"nav-link",to:"/planilha-controle",children:"Planilha Controle"})}),e.jsxs("li",{className:"nav-item",children:[e.jsx(E,{className:"nav-link",to:"/gallery",children:"Galeria"})," "]}),e.jsx("li",{className:"nav-item",children:e.jsx("button",{className:"logout-button",onClick:h,children:"Voltar ao Login"})})]})]})};M.propTypes={onLogout:I.func.isRequired};const A=({setIsAuthenticated:h})=>{const[s,p]=u.useState(""),[d,o]=u.useState(""),[a,x]=u.useState(""),j=ae();u.useEffect(()=>(document.body.classList.add("login-background"),()=>{document.body.classList.remove("login-background")}),[]);const i=r=>{r.preventDefault(),s==="Pedro_Lima"&&d==="@1904_2007"?(h(!0),j("/products")):x("Usuário ou senha incorretos")};return e.jsxs("div",{className:"login-container",children:[e.jsx("img",{src:"/logo.png",alt:"Logo",className:"login-logo"}),e.jsxs("form",{onSubmit:i,children:[e.jsx("h1",{children:"Login"}),e.jsxs("div",{children:[e.jsx("label",{children:"Usuário:"}),e.jsx("input",{type:"text",value:s,onChange:r=>p(r.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Senha:"}),e.jsx("input",{type:"password",value:d,onChange:r=>o(r.target.value),required:!0})]}),a&&e.jsx("p",{className:"error-message",children:a}),e.jsx("button",{type:"submit",children:"Entrar"})]})]})};A.propTypes={setIsAuthenticated:I.func.isRequired};const le="/subliarte_sistema/assets/image1-DRoFuVQR.jpg",ie="/subliarte_sistema/assets/image2-CQtHciuL.jpg",ce="/subliarte_sistema/assets/image3-BrIrEqKC.jpg",de="/subliarte_sistema/assets/image4-BTprlRV_.jpg",ue="/subliarte_sistema/assets/image5-BR8tIY_r.jpg",he="/subliarte_sistema/assets/image6-BAhDPEXJ.jpg",me=[le,ie,ce,de,ue,he],pe=()=>e.jsxs("div",{className:"gallery-container",children:[e.jsx("h1",{className:"h1-gallery",children:"Fotos Produtos"}),e.jsx("div",{className:"gallery",children:me.map((h,s)=>e.jsx("div",{className:"gallery-item",children:e.jsx("img",{src:h,alt:`Gallery item ${s+1}`})},s))})]});function xe(){const[h,s]=u.useState(!1),p=()=>{s(!0)},d=()=>{s(!1)};return e.jsx(Z,{children:h?e.jsxs(e.Fragment,{children:[e.jsx(M,{onLogout:d})," ",e.jsxs(ne,{children:[e.jsx(k,{path:"/products",element:e.jsx(oe,{})}),e.jsx(k,{path:"/planilha-controle",element:e.jsx(re,{})}),e.jsx(k,{path:"/gallery",element:e.jsx(pe,{})})," "]})]}):e.jsx(A,{setIsAuthenticated:p})})}W(document.getElementById("root")).render(e.jsx(z.StrictMode,{children:e.jsx(xe,{})}));
